<!DOCTYPE = html>
<html lang ="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Volatility Analysis</title>

        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/stockbar.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/maincontent.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/toolbar.css') }}">
    </head>

    <body>
        <!--Site header-->
        <header class="site-header">
            <div class="menu-container">
                <button class="menu-button" aria-haspopup="true" aria-expanded="false" title="Navigation Menu">â˜°</button>
                <div class="dropdown-content">
                    <p>Navigation links (not yet implemented)</p>
                </div>
            </div>
            <h1 class="header-title">Volatility Analysis</h1>
        </header>

        <!--Container for the user to fetch the period and instrument to perform the voltaility analysis-->
        <div class="stock-info-input-panel">
                <form id="script-form">
                    <label for="ticker">Ticker:</label>
                    <input type="text" id="ticker" name="ticker" placeholder="e.g. SPY" value="SPY" required>
                    <label for="start_date">Date range, from:</label>
                    <input type="date" id="start_date" name="start_date" value="2024-01-01" required>
                    <label for="end_date">to:</label>
                    <input type="date" id="end_date" name="end_date" value="2024-11-01" required>
                    <button type="submit" id="get_returns">Fetch</button>
                </form>
        </div>

        <!--Main app container-->
        <main class="app-main-content">
            <div class="chart-and-toolbars-wrapper">
                <!-- Left Toolbar -->
                <aside class="chart-toolbar chart-left-toolbar">
                        <p>Chart</p>
                        <button type="button" class="toolbar-button consol" id="toggle-consol-window" title="toggle consol"> Console</button>
                        <button type="button" class="toolbar-button studies" id="open-studies-tab" title="view studies"> Studies</button>
                        <button type="button" class="toolbar-button series" id="open-series-tab" title="view series"> Series</button>
                                            <button type="button" class="toolbar-button pacf" id="calculate-pacf" title="calculate-pacf"> PACF</button>
                    <button type="button" class="toolbar-button model_builder" id="model-builder-view" title="build models"> Model Builder</button>
                    <button type="button" class="toolbar-button info" id="right-toolbox-info-tab" title="info"> Info</button>
                </aside>

                <!-- Chart Display Area -->
                <div class="chart-display-area">
                    <canvas id="vol_chart" aria-label="Historic Volatility Chart"></canvas>
                    <!-- Clear Chart button can be positioned absolutely within this later -->
                </div>

                <!-- Right Toolbar -->

            </div>
        </main>


        <!--Script area, all javascrips imported here for neatness-->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-colors@0.2.0"></script>
        <script type="module" src="{{ url_for('static', filename='scriptsjs/vol_chart.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.1/chartjs-plugin-zoom.min.js"></script>
        <script type="module" src="{{ url_for('static', filename='scriptsjs/getstockreturns.js') }}"></script>
        <script type="module" src="{{ url_for('static', filename='scriptsjs/getsma.js') }}"></script>
        <script type="module" src="{{ url_for('static', filename='scriptsjs/getewma.js') }}"></script>
        <script type="module" src="{{ url_for('static', filename='scriptsjs/pacf.js')}}"></script>
    </body>
</html>